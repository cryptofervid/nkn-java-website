<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Messages | NKN Java SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://cryptofervid.github.io//nkn-java-website/docs/messages"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Messages | NKN Java SDK"><meta data-react-helmet="true" name="description" content="Message functionality is wrapped in the SimpleMessagesProtocol object. It provides methods to send and receive messages of different types. It also provides overrides for their Multicast couterparts. Last but not the least, there are methods available to Publish messages on topics and send them to all subscribers."><meta data-react-helmet="true" property="og:description" content="Message functionality is wrapped in the SimpleMessagesProtocol object. It provides methods to send and receive messages of different types. It also provides overrides for their Multicast couterparts. Last but not the least, there are methods available to Publish messages on topics and send them to all subscribers."><link data-react-helmet="true" rel="shortcut icon" href="/nkn-java-website/img/nkn_logo.png"><link data-react-helmet="true" rel="canonical" href="https://cryptofervid.github.io//nkn-java-website/docs/messages"><link data-react-helmet="true" rel="alternate" href="https://cryptofervid.github.io//nkn-java-website/docs/messages" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cryptofervid.github.io//nkn-java-website/docs/messages" hreflang="x-default"><link rel="stylesheet" href="/nkn-java-website/assets/css/styles.b6972fa6.css">
<link rel="preload" href="/nkn-java-website/assets/js/runtime~main.374fc331.js" as="script">
<link rel="preload" href="/nkn-java-website/assets/js/main.65dfb470.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nkn-java-website/"><img src="/nkn-java-website/img/nkn_logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/nkn-java-website/img/nkn_logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">NKN Java SDK</b></a><a class="navbar__item navbar__link navbar__link--active" href="/nkn-java-website/docs/prerequisites">Setup</a><a class="navbar__item navbar__link navbar__link--active" href="/nkn-java-website/docs/client">API Reference</a><a class="navbar__item navbar__link navbar__link--active" href="/nkn-java-website/docs/wallet_example">Examples</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nknorg/nkn-java-sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nkn-java-website/docs/client">Client</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nkn-java-website/docs/session">Session</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nkn-java-website/docs/messages">Messages</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nkn-java-website/docs/wallet">Wallet</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nkn-java-website/docs/explorer">Explorer</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nkn-java-website/docs/connection">Connection Provider</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Examples</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Messages</h1></header><p>Message functionality is wrapped in the <code>SimpleMessagesProtocol</code> object. It provides methods to send and receive messages of different types. It also provides overrides for their <code>Multicast</code> couterparts. Last but not the least, there are methods available to <code>Publish</code> messages on topics and send them to all subscribers.</p><p>The following types of messages are supported:</p><ul><li>Text</li><li>Binary<ul><li>Byte Array</li><li>ByteString (protobuf)</li></ul></li><li>Object</li><li>Ack</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="receiving-messages"></a>Receiving Messages<a class="hash-link" href="#receiving-messages" title="Direct link to heading">#</a></h2><p>The following options are available for receiving messages</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="message-listener"></a>Message Listener<a class="hash-link" href="#message-listener" title="Direct link to heading">#</a></h3><p>Set a message listener which accepts a consumer which is called when a new message is received.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">client.simpleMessagesProtocol().onNewMessage(receivedMessage -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (receivedMessage.isText) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;New text message from &quot; + receivedMessage.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(receivedMessage.textData);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else if (receivedMessage.isBinary) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;New binary message from &quot; + receivedMessage.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(Hex.toHexString(receivedMessage.binaryData.toByteArray()).toUpperCase());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="message-listener-with-reply"></a>Message Listener With Reply<a class="hash-link" href="#message-listener-with-reply" title="Direct link to heading">#</a></h3><p>In order to send a reply corresponding to an incoming message, use the <code>onNewMessageWithReply</code> method. This method expects a function with input as a <code>ReceivedMessage</code> and output as an <code>Object</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">client.simpleMessagesProtocol().onNewMessageWithReply(receivedMessage -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (receivedMessage.isText) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;New text message from &quot; + receivedMessage.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(receivedMessage.textData);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else if (receivedMessage.isBinary) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;New binary message from &quot; + receivedMessage.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(Hex.toHexString(receivedMessage.binaryData.toByteArray()).toUpperCase());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;Reply message&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="sending-messages"></a>Sending Messages<a class="hash-link" href="#sending-messages" title="Direct link to heading">#</a></h2><p>There are many overloaded methods available for sending messages. Each option has a text and binary counterpart available.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-text"></a>Send Text<a class="hash-link" href="#send-text" title="Direct link to heading">#</a></h3><p>The <code>sendTextAsync</code> method and its overloaded counterparts can be used to send text messages asynchronously across the network.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Identity identity = new Identity(&quot;server&quot;, Wallet.createNew());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NKNClient nknClient = new NKNClient(identity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">nknClient.start();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt; promise = nknClient.simpleMessagesProtocol().sendTextAsync(identity.getFullIdentifier(), &quot;Hello there!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promise.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response ==&gt; &quot; + response.textData);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        error.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-binary"></a>Send Binary<a class="hash-link" href="#send-binary" title="Direct link to heading">#</a></h3><p>Similar to its send text cousin, the <code>sendBinaryAsync</code> method and its overloaded counterparts can be used to send binary messages across the network.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Identity identity = new Identity(&quot;server&quot;, Wallet.createNew());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NKNClient nknClient = new NKNClient(identity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">nknClient.start();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt; promise = nknClient.simpleMessagesProtocol().sendBinaryAsync(identity.getFullIdentifier(), &quot;Hello there!&quot;.getBytes(StandardCharsets.UTF_8));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promise.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response ==&gt; &quot; + response.textData);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        error.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The <code>sendBinaryAsync</code> method also accepts <code>ByteString</code> as an argument instead of the <code>byte[]</code>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-object"></a>Send Object<a class="hash-link" href="#send-object" title="Direct link to heading">#</a></h3><p>Send any java object across the wire using the <code>sendAsync</code> method</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Identity identity = new Identity(&quot;server&quot;, Wallet.createNew());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NKNClient nknClient = new NKNClient(identity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">nknClient.start();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt; promise = nknClient.simpleMessagesProtocol().sendAsync(identity.getFullIdentifier(), null, new Object());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promise.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response ==&gt; &quot; + response.textData);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        error.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-multicast-text"></a>Send Multicast Text<a class="hash-link" href="#send-multicast-text" title="Direct link to heading">#</a></h3><p>The <code>sendTextMulticastAsync</code> can be used to send a multicast text message across the network. This method is similar to <code>sendTextAsync</code> but accepts an array of destination identifiers instead.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt;&gt; promises = nknClient.simpleMessagesProtocol().sendTextMulticastAsync(new String[] {identity.getFullIdentifier()}, &quot;Hello to everyone!!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promises.forEach(p -&gt; p.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response from &quot; + response.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Error: &quot; + error.toString());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-multicast-binary"></a>Send Multicast Binary<a class="hash-link" href="#send-multicast-binary" title="Direct link to heading">#</a></h3><p>The <code>sendMulticastBinaryAsync</code> method can be used to send a multicast binary message across the network.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt;&gt; promises = nknClient.simpleMessagesProtocol().sendBinaryMulticastAsync(new String[] {identity.getFullIdentifier()}, &quot;Hello to everyone!!&quot;.getBytes());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promises.forEach(p -&gt; p.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response from &quot; + response.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Error: &quot; + error.toString());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="send-multicast-object"></a>Send Multicast Object<a class="hash-link" href="#send-multicast-object" title="Direct link to heading">#</a></h3><p>The <code>sendMulticastAsync</code> method can be used to send a multicast object message across the network.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt;&gt; promises = nknClient.simpleMessagesProtocol().sendBinaryMulticastAsync(new String[] {identity.getFullIdentifier()}, new Object());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">promises.forEach(p -&gt; p.whenComplete((response, error) -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (error == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Response from &quot; + response.from);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Error: &quot; + error.toString());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="publish-text"></a>Publish Text<a class="hash-link" href="#publish-text" title="Direct link to heading">#</a></h3><p>Publish a text message to all subscribers of a topic using the <code>publishTextAsync</code> method.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;CompletableFuture&lt;SimpleMessagesProtocol.ReceivedMessage&gt;&gt; promises = nknClient.simpleMessagesProtocol().publishTextAsync(&quot;topicNAme&quot;, false, &quot;Hello Subscribers!!&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <code>publishBinaryAsync</code> method is the binary counterpart for publishing <code>binary</code> and <code>byteString</code> message types to a topic. </p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="miscellaneous"></a>Miscellaneous<a class="hash-link" href="#miscellaneous" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="toggle-auto-ack"></a>Toggle Auto Ack<a class="hash-link" href="#toggle-auto-ack" title="Direct link to heading">#</a></h3><p>Stop sending automatic ack messages. An Ack message does not have any data. It is only used to inform a sender of the message that the receiving party has received the message successfully.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">client.simpleMessagesProtocol().setNoAutomaticACKs(true);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/messages.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nkn-java-website/docs/session"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Session</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/nkn-java-website/docs/wallet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Wallet »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#receiving-messages" class="table-of-contents__link">Receiving Messages</a><ul><li><a href="#message-listener" class="table-of-contents__link">Message Listener</a></li><li><a href="#message-listener-with-reply" class="table-of-contents__link">Message Listener With Reply</a></li></ul></li><li><a href="#sending-messages" class="table-of-contents__link">Sending Messages</a><ul><li><a href="#send-text" class="table-of-contents__link">Send Text</a></li><li><a href="#send-binary" class="table-of-contents__link">Send Binary</a></li><li><a href="#send-object" class="table-of-contents__link">Send Object</a></li><li><a href="#send-multicast-text" class="table-of-contents__link">Send Multicast Text</a></li><li><a href="#send-multicast-binary" class="table-of-contents__link">Send Multicast Binary</a></li><li><a href="#send-multicast-object" class="table-of-contents__link">Send Multicast Object</a></li><li><a href="#publish-text" class="table-of-contents__link">Publish Text</a></li></ul></li><li><a href="#miscellaneous" class="table-of-contents__link">Miscellaneous</a><ul><li><a href="#toggle-auto-ack" class="table-of-contents__link">Toggle Auto Ack</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="http://forum.nkn.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/hrZvrVa" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/nknorg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nknorg/nkn-java-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/nkn-java-website/assets/js/runtime~main.374fc331.js"></script>
<script src="/nkn-java-website/assets/js/main.65dfb470.js"></script>
</body>
</html>