"use strict";(self.webpackChunknkn_java_website=self.webpackChunknkn_java_website||[]).push([[158],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,N=d["".concat(s,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(N,o(o({ref:t},p),{},{components:n})):r.createElement(N,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2510:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],l={sidebar_position:1},s="Client",c={unversionedId:"client",id:"client",isDocsHomePage:!1,title:"Client",description:"NKNCilent provides the entry point to the rich set of features provided by the API. It is also used to set parameters that can be used for communication between two clients.",source:"@site/docs/client.md",sourceDirName:".",slug:"/client",permalink:"/nkn-java-website/docs/client",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/client.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"environment_sidebar",previous:{title:"Gradle",permalink:"/nkn-java-website/docs/gradle_build"},next:{title:"Session",permalink:"/nkn-java-website/docs/session"}},p=[{value:"Instantiation",id:"instantiation",children:[]},{value:"Start / Stop",id:"start--stop",children:[]},{value:"Set Encryption Level",id:"set-encryption-level",children:[]},{value:"Set Peer Encryption Requirement",id:"set-peer-encryption-requirement",children:[]},{value:"Get Simple Messages Protocol",id:"get-simple-messages-protocol",children:[]},{value:"Get Session Protocol",id:"get-session-protocol",children:[]}],u={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"client"},"Client"),(0,a.kt)("p",null,"NKNCilent provides the entry point to the rich set of features provided by the API. It is also used to set parameters that can be used for communication between two clients."),(0,a.kt)("h3",{id:"instantiation"},"Instantiation"),(0,a.kt)("p",null,"The client can be instantiated using the constructor ",(0,a.kt)("inlineCode",{parentName:"p"},"NKNClient")," which accepts an identity."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'final Identity identityA = new Identity("Client A", Wallet.createNew());\nfinal NKNClient clientA = new NKNClient(identityA);\n')),(0,a.kt)("h3",{id:"start--stop"},"Start / Stop"),(0,a.kt)("p",null,"The client start initiates a connection with the bootstrap node and close tearsdown that connection."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"clientA.start();\n\nclientA.close()\n")),(0,a.kt)("h3",{id:"set-encryption-level"},"Set Encryption Level"),(0,a.kt)("p",null,"The following encryption levels are supported:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"DO_NOT_ENCRYPT"),(0,a.kt)("li",{parentName:"ul"},"ENCRYPT_ONLY_UNICAST"),(0,a.kt)("li",{parentName:"ul"},"CONVERT_MULTICAST_TO_UNICAST_AND_ENCRYPT"),(0,a.kt)("li",{parentName:"ul"},"ENCRYPT_UNICAST_AND_MULTICAST")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.setEncryptionLevel(NKNClient.EncryptionLevel.DO_NOT_ENCRYPT);\n")),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Multicast encryption is not implemented yet. If you set encryption to ENCRYPT_UNICAST_AND_MULTICAST and attempt to send a multicast message, an exception will be thrown"))),(0,a.kt)("h3",{id:"set-peer-encryption-requirement"},"Set Peer Encryption Requirement"),(0,a.kt)("p",null,"While receiving the messages, appropriate behaviour can be set at the client level to determine what needs to be done to unencrypted messages received. The following options are supported:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"ON_NON_ENCRYPTED_MESSAGE___ALLOW_NONE_DROP_ALL"),(0,a.kt)("li",{parentName:"ul"},"ON_NON_ENCRYPTED_MESSAGE___ALLOW_ACK_DROP_OTHER"),(0,a.kt)("li",{parentName:"ul"},"ON_NON_ENCRYPTED_MESSAGE___ALLOW_ALL_DROP_NONE")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.setPeerEncryptionRequirement(NKNClient.PeerEncryptionRequirement.ON_NON_ENCRYPTED_MESSAGE___ALLOW_NONE_DROP_ALL)\n")),(0,a.kt)("h3",{id:"get-simple-messages-protocol"},"Get Simple Messages Protocol"),(0,a.kt)("p",null,"Get the handle to the underlying messages api."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"SimpleMessagesProtocol messageProtocol = client.simpleMessagesProtocol();\n")),(0,a.kt)("h3",{id:"get-session-protocol"},"Get Session Protocol"),(0,a.kt)("p",null,"Get a handle to the undelying session api."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"SessionProtocol sessionProtocol = client.sessionProtocol();\n")))}d.isMDXComponent=!0}}]);